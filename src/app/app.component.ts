import { Component, OnInit } from '@angular/core';
import { appRoutes } from "./core/routing.module";
import { PDFWrapper } from "tspdf";
import { TspdfService } from "tspdf";
@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.scss']
})
export class AppComponent implements OnInit {
  title = 'web-app';

  navLinks = appRoutes

  constructor(
    private pdfService: TspdfService
  ) {
    /*
    "js/yworks.jspdf.debuh.js",
    "js/customfonts.js",
    "js/default_vfs.js"
    */
  }
  ngOnInit() {
    this.pdfService.loadEmbededFonts()
      .subscribe(
        fonts => {
          const pdf = new PDFWrapper()
          const doc = pdf.document
          let fontName: string
          for (const n in fonts) {
            doc.registerFont(n, <any>fonts[n].data)
            fontName = n
          }
          try {
            console.log("registeredFonts", doc["_registeredFonts"])
          } catch (error) {
            
          }
          doc.font(fontName).text("PDFWrapper").fontSize(18)
          
          const str = "M0.551,130.691C1.319,135.422,9.503,137.980,18.838,136.317C18.838,136.317,18.838,136.317,18.838,136.317C19.093,136.957,19.221,137.724,19.477,138.363C19.477,138.363,19.477,138.363,19.477,138.363C10.909,142.455,5.794,149.361,7.840,153.581C9.886,157.928,18.582,157.928,27.022,153.836C27.022,153.836,27.022,153.836,27.022,153.836C27.406,154.476,27.789,154.987,28.301,155.627C28.301,155.627,28.301,155.627,28.301,155.627C21.267,162.021,18.326,170.077,21.523,173.530C24.720,177.110,33.032,174.680,39.937,168.287C39.937,168.287,39.937,168.287,39.937,168.287C40.449,168.798,41.088,169.182,41.600,169.693C41.600,169.693,41.600,169.693,41.600,169.693C36.741,177.749,36.101,186.317,40.193,188.875C44.285,191.304,51.574,186.701,56.434,178.645C56.434,178.645,56.434,178.645,56.434,178.645C57.073,178.900,57.712,179.156,58.480,179.540C58.480,179.540,58.480,179.540,58.480,179.540C56.050,188.747,57.968,197.059,62.572,198.338C67.175,199.489,72.802,193.095,75.232,183.888C75.232,183.888,75.232,183.888,75.232,183.888C75.999,184.015,76.638,184.015,77.406,184.143C77.406,184.143,77.406,184.143,77.406,184.143C77.661,191.560,80.219,197.826,83.672,200.000C87.124,197.698,89.682,191.560,89.938,184.143C89.938,184.143,89.938,184.143,89.938,184.143C90.705,184.015,91.344,184.015,92.111,183.888C92.111,183.888,92.111,183.888,92.111,183.888C94.541,193.095,100.168,199.489,104.771,198.338C109.375,197.187,111.165,188.747,108.863,179.540C108.863,179.540,108.863,179.540,108.863,179.540C109.503,179.284,110.142,179.028,110.909,178.645C110.909,178.645,110.909,178.645,110.909,178.645C115.769,186.701,123.058,191.304,127.150,188.875C131.242,186.445,130.603,177.877,125.743,169.693C125.743,169.693,125.743,169.693,125.743,169.693C126.255,169.182,126.894,168.798,127.406,168.287C127.406,168.287,127.406,168.287,127.406,168.287C134.439,174.680,142.623,176.982,145.820,173.530C149.017,169.949,145.948,162.021,139.042,155.627C139.042,155.627,139.042,155.627,139.042,155.627C139.426,154.987,139.938,154.476,140.321,153.836C140.321,153.836,140.321,153.836,140.321,153.836C148.889,157.928,157.457,157.928,159.503,153.581C161.549,149.233,156.434,142.455,147.866,138.363C147.866,138.363,147.866,138.363,147.866,138.363C148.122,137.724,148.378,136.957,148.505,136.317C148.505,136.317,148.505,136.317,148.505,136.317C157.840,137.852,166.025,135.294,166.792,130.691C167.559,125.959,160.654,120.844,151.319,119.310C151.319,119.310,151.319,119.310,151.319,119.310C151.319,118.542,151.319,117.903,151.319,117.136C151.319,117.136,151.319,117.136,151.319,117.136C160.654,115.985,167.815,111.253,167.303,106.522C166.664,101.790,158.608,98.849,149.273,100.000C149.273,100.000,149.273,100.000,149.273,100.000C148.633,97.315,147.738,94.629,146.715,91.944C145.053,94.246,142.751,96.036,140.066,97.315C139.682,97.442,139.170,97.698,138.659,97.826C137.380,95.141,135.590,92.711,133.544,90.537C131.370,95.652,126.255,99.233,120.245,99.233C114.618,99.233,109.759,96.036,107.329,91.304C102.725,82.353,99.912,34.271,105.922,7.545C99.784,2.813,91.984-0.000,83.672-0.000C75.232-0.000,67.559,2.813,61.421,7.545C67.559,34.399,64.618,82.481,60.014,91.304C57.585,96.036,52.725,99.233,47.099,99.233C41.088,99.233,36.101,95.652,33.799,90.537C31.753,92.711,29.963,95.141,28.684,97.826C28.173,97.698,27.789,97.570,27.278,97.315C24.464,96.164,22.290,94.246,20.628,91.944C19.605,94.501,18.710,97.187,18.070,100.000L18.070,100.000C8.735,98.849,0.551,101.790,0.040,106.522C-0.600,111.253,6.561,115.985,16.024,117.136C16.024,117.136,16.024,117.136,16.024,117.136C16.024,117.903,16.024,118.542,16.024,119.310C16.024,119.310,16.024,119.310,16.024,119.310C6.689,120.844-0.216,125.959,0.551,130.691zM151.063,110.870C148.761,112.532,146.204,113.683,143.135,114.067C142.495,114.194,141.856,114.194,141.344,114.194C141.472,112.916,141.472,111.509,141.472,110.102C141.472,108.312,141.344,106.650,140.961,104.987C141.344,104.859,141.600,104.859,141.984,104.859C144.925,104.476,147.866,104.987,150.424,106.010C150.168,104.604,149.912,103.325,149.656,101.918C154.260,101.407,158.224,103.836,158.608,107.417C158.991,110.997,155.794,114.322,151.191,114.962C151.319,113.683,151.191,112.276,151.063,110.870zM141.472,131.202C140.193,130.946,139.042,130.691,138.019,130.179C139.042,127.494,139.810,124.680,140.321,121.867C141.216,121.867,142.112,121.867,143.007,122.123C145.948,122.634,148.633,123.913,150.807,125.703C150.935,124.297,151.191,123.018,151.191,121.611C155.667,122.506,158.863,125.959,158.224,129.412C157.585,132.992,153.493,135.166,149.017,134.527C149.401,133.248,149.656,131.841,149.912,130.435C147.355,131.330,144.413,131.586,141.472,131.202zM135.078,146.931C133.416,146.164,132.009,145.013,130.730,143.862C132.265,141.688,133.672,139.514,134.823,137.212C136.229,137.468,137.764,137.980,139.170,138.619C141.856,139.898,144.030,141.944,145.564,144.246C146.076,142.967,146.715,141.688,147.099,140.409C151.191,142.455,153.237,146.675,151.574,149.872C150.040,153.069,145.436,154.092,141.344,152.174C142.112,151.023,142.751,149.744,143.390,148.593C140.577,148.721,137.764,148.338,135.078,146.931zM124.337,160.358C122.674,158.824,121.268,156.905,120.372,154.859C122.163,153.453,123.825,151.918,125.360,150.256C127.278,151.023,129.068,152.046,130.603,153.453C132.777,155.499,134.311,157.928,135.206,160.614C136.101,159.591,136.996,158.440,137.764,157.417C141.089,160.614,141.856,165.217,139.426,167.775C136.996,170.460,132.393,170.077,128.940,167.008C129.963,166.113,130.986,165.090,131.881,164.194C129.196,163.683,126.511,162.276,124.337,160.358zM107.968,162.660C109.759,161.893,111.421,160.998,113.083,159.975C115.129,161.253,116.920,163.044,118.198,165.217C119.733,167.775,120.500,170.588,120.500,173.402C121.651,172.634,122.802,171.867,123.953,171.100C126.255,175.064,125.615,179.668,122.546,181.586C119.477,183.376,115.129,181.714,112.700,177.877C113.979,177.238,115.129,176.599,116.408,175.959C113.979,174.553,111.805,172.634,110.270,170.077C108.863,167.775,108.096,165.217,107.968,162.660zM94.030,167.136C95.692,166.880,97.354,166.496,99.017,165.985C100.807,167.903,102.214,170.333,102.981,173.146C103.748,176.087,103.620,179.028,102.853,181.714C104.132,181.330,105.539,180.946,106.817,180.435C107.840,184.911,105.922,189.131,102.597,190.026C99.145,190.921,95.436,188.108,94.158,183.632C95.564,183.376,96.843,183.120,98.250,182.865C96.331,180.819,94.797,178.389,94.030,175.448C93.262,172.634,93.390,169.693,94.030,167.136zM79.452,184.271C80.858,184.399,82.265,184.399,83.672,184.399C85.078,184.399,86.485,184.399,87.892,184.271C87.764,187.596,85.973,190.537,83.672,191.688C81.370,190.537,79.707,187.724,79.452,184.271zM68.326,111.637C68.326,111.637,68.326,111.637,68.326,111.637C68.326,109.847,68.326,108.184,68.326,106.522C68.326,79.412,69.861,52.685,73.058,26.343C73.697,21.228,77.917,17.391,83.160,17.391L84.311,17.391C89.554,17.391,93.774,21.355,94.413,26.343C97.482,52.685,99.145,79.412,99.145,106.522C99.145,108.184,99.145,109.974,99.145,111.637C99.145,111.637,99.145,111.637,99.145,111.637C99.145,120.077,92.239,126.982,83.799,126.982C75.232,126.982,68.326,120.077,68.326,111.637zM60.398,180.307C61.677,180.819,62.955,181.202,64.362,181.586C63.595,178.900,63.467,175.959,64.234,173.018C65.001,170.205,66.408,167.775,68.198,165.857C69.861,166.368,71.523,166.624,73.186,167.008C73.953,169.693,73.953,172.507,73.186,175.320C72.418,178.261,70.884,180.691,68.966,182.737C70.372,182.992,71.651,183.248,73.058,183.504C71.779,187.852,68.071,190.793,64.618,189.898C61.293,189.131,59.375,184.783,60.398,180.307zM26.255,105.115C25.999,106.778,25.743,108.440,25.743,110.230C25.743,111.637,25.871,112.916,25.871,114.322C25.232,114.322,24.592,114.322,24.081,114.194C21.140,113.811,18.454,112.660,16.152,110.997C16.024,112.404,15.897,113.683,15.897,115.090C11.421,114.450,8.096,111.125,8.480,107.545C8.863,103.964,12.955,101.535,17.431,102.046C17.175,103.453,16.920,104.731,16.664,106.138C19.221,104.987,22.163,104.604,25.104,104.987C25.615,104.987,25.999,104.987,26.255,105.115zM43.390,171.100C44.541,171.867,45.692,172.762,46.843,173.402C46.843,170.588,47.610,167.775,49.145,165.217C50.423,163.044,52.214,161.253,54.260,159.975C55.922,160.998,57.585,161.893,59.375,162.660C59.247,165.217,58.480,167.775,57.073,170.077C55.539,172.634,53.365,174.680,50.935,175.959C52.086,176.599,53.365,177.238,54.643,177.877C52.214,181.714,47.866,183.376,44.797,181.586C41.600,179.796,41.088,175.064,43.390,171.100zM29.579,157.417C30.347,158.568,31.242,159.591,32.137,160.614C33.032,157.928,34.439,155.499,36.741,153.453C38.275,152.046,40.065,150.895,41.984,150.256C43.518,151.918,45.180,153.453,46.971,154.859C46.076,156.905,44.797,158.696,43.007,160.358C40.833,162.404,38.147,163.683,35.462,164.322C36.485,165.345,37.380,166.241,38.403,167.136C34.950,170.205,30.347,170.460,27.917,167.903C25.487,165.217,26.255,160.614,29.579,157.417zM20.244,140.409C20.756,141.688,21.267,142.967,21.779,144.246C23.313,141.944,25.487,139.898,28.173,138.619C29.579,137.980,30.986,137.468,32.521,137.212C33.799,139.514,35.078,141.688,36.613,143.862C35.334,145.141,33.927,146.164,32.265,146.931C29.579,148.210,26.638,148.721,23.825,148.593C24.464,149.872,25.104,151.023,25.871,152.174C21.779,154.092,17.175,153.069,15.641,149.872C14.106,146.675,16.152,142.455,20.244,140.409zM16.152,121.356C16.280,122.762,16.408,124.169,16.536,125.448C18.710,123.657,21.267,122.379,24.336,121.867C25.232,121.739,26.127,121.611,27.022,121.611C27.661,124.425,28.429,127.238,29.324,129.923C28.173,130.435,27.022,130.691,25.871,130.946C22.930,131.458,19.989,131.074,17.431,130.051C17.687,131.458,18.070,132.737,18.326,134.143C13.851,134.783,9.758,132.609,9.119,129.028C8.480,125.703,11.677,122.251,16.152,121.356z"

          doc.path(str)
            .translate(10, 50)
            .stroke()
          // get a blob when you're done
          //pdf.save("doc.pdf")


        }
      )

  }

  private makePdf() {
    var xhr = new XMLHttpRequest();
    xhr.open('GET', "Roboto-Regular.ttf", true);
    xhr.responseType = 'arraybuffer';
    const fontName: string = "Roboto"
    xhr.onload = (e) => {
      if (xhr.status == 200) {
        // this.createPDF("Roboto", xhr.response);
        // Do something...
        let pdf = new PDFWrapper({
          layout: "portrait",
          margins: {
            top: 10,
            left: 10,
            right: 10,
            bottom: 18
          },
          size: "a4"
        })
        const doc = pdf.document

        doc.registerFont(fontName, xhr.response)
        doc.font(fontName).text("PDFWrapper").fontSize(18)
        const str = "M0.551,130.691C1.319,135.422,9.503,137.980,18.838,136.317C18.838,136.317,18.838,136.317,18.838,136.317C19.093,136.957,19.221,137.724,19.477,138.363C19.477,138.363,19.477,138.363,19.477,138.363C10.909,142.455,5.794,149.361,7.840,153.581C9.886,157.928,18.582,157.928,27.022,153.836C27.022,153.836,27.022,153.836,27.022,153.836C27.406,154.476,27.789,154.987,28.301,155.627C28.301,155.627,28.301,155.627,28.301,155.627C21.267,162.021,18.326,170.077,21.523,173.530C24.720,177.110,33.032,174.680,39.937,168.287C39.937,168.287,39.937,168.287,39.937,168.287C40.449,168.798,41.088,169.182,41.600,169.693C41.600,169.693,41.600,169.693,41.600,169.693C36.741,177.749,36.101,186.317,40.193,188.875C44.285,191.304,51.574,186.701,56.434,178.645C56.434,178.645,56.434,178.645,56.434,178.645C57.073,178.900,57.712,179.156,58.480,179.540C58.480,179.540,58.480,179.540,58.480,179.540C56.050,188.747,57.968,197.059,62.572,198.338C67.175,199.489,72.802,193.095,75.232,183.888C75.232,183.888,75.232,183.888,75.232,183.888C75.999,184.015,76.638,184.015,77.406,184.143C77.406,184.143,77.406,184.143,77.406,184.143C77.661,191.560,80.219,197.826,83.672,200.000C87.124,197.698,89.682,191.560,89.938,184.143C89.938,184.143,89.938,184.143,89.938,184.143C90.705,184.015,91.344,184.015,92.111,183.888C92.111,183.888,92.111,183.888,92.111,183.888C94.541,193.095,100.168,199.489,104.771,198.338C109.375,197.187,111.165,188.747,108.863,179.540C108.863,179.540,108.863,179.540,108.863,179.540C109.503,179.284,110.142,179.028,110.909,178.645C110.909,178.645,110.909,178.645,110.909,178.645C115.769,186.701,123.058,191.304,127.150,188.875C131.242,186.445,130.603,177.877,125.743,169.693C125.743,169.693,125.743,169.693,125.743,169.693C126.255,169.182,126.894,168.798,127.406,168.287C127.406,168.287,127.406,168.287,127.406,168.287C134.439,174.680,142.623,176.982,145.820,173.530C149.017,169.949,145.948,162.021,139.042,155.627C139.042,155.627,139.042,155.627,139.042,155.627C139.426,154.987,139.938,154.476,140.321,153.836C140.321,153.836,140.321,153.836,140.321,153.836C148.889,157.928,157.457,157.928,159.503,153.581C161.549,149.233,156.434,142.455,147.866,138.363C147.866,138.363,147.866,138.363,147.866,138.363C148.122,137.724,148.378,136.957,148.505,136.317C148.505,136.317,148.505,136.317,148.505,136.317C157.840,137.852,166.025,135.294,166.792,130.691C167.559,125.959,160.654,120.844,151.319,119.310C151.319,119.310,151.319,119.310,151.319,119.310C151.319,118.542,151.319,117.903,151.319,117.136C151.319,117.136,151.319,117.136,151.319,117.136C160.654,115.985,167.815,111.253,167.303,106.522C166.664,101.790,158.608,98.849,149.273,100.000C149.273,100.000,149.273,100.000,149.273,100.000C148.633,97.315,147.738,94.629,146.715,91.944C145.053,94.246,142.751,96.036,140.066,97.315C139.682,97.442,139.170,97.698,138.659,97.826C137.380,95.141,135.590,92.711,133.544,90.537C131.370,95.652,126.255,99.233,120.245,99.233C114.618,99.233,109.759,96.036,107.329,91.304C102.725,82.353,99.912,34.271,105.922,7.545C99.784,2.813,91.984-0.000,83.672-0.000C75.232-0.000,67.559,2.813,61.421,7.545C67.559,34.399,64.618,82.481,60.014,91.304C57.585,96.036,52.725,99.233,47.099,99.233C41.088,99.233,36.101,95.652,33.799,90.537C31.753,92.711,29.963,95.141,28.684,97.826C28.173,97.698,27.789,97.570,27.278,97.315C24.464,96.164,22.290,94.246,20.628,91.944C19.605,94.501,18.710,97.187,18.070,100.000L18.070,100.000C8.735,98.849,0.551,101.790,0.040,106.522C-0.600,111.253,6.561,115.985,16.024,117.136C16.024,117.136,16.024,117.136,16.024,117.136C16.024,117.903,16.024,118.542,16.024,119.310C16.024,119.310,16.024,119.310,16.024,119.310C6.689,120.844-0.216,125.959,0.551,130.691zM151.063,110.870C148.761,112.532,146.204,113.683,143.135,114.067C142.495,114.194,141.856,114.194,141.344,114.194C141.472,112.916,141.472,111.509,141.472,110.102C141.472,108.312,141.344,106.650,140.961,104.987C141.344,104.859,141.600,104.859,141.984,104.859C144.925,104.476,147.866,104.987,150.424,106.010C150.168,104.604,149.912,103.325,149.656,101.918C154.260,101.407,158.224,103.836,158.608,107.417C158.991,110.997,155.794,114.322,151.191,114.962C151.319,113.683,151.191,112.276,151.063,110.870zM141.472,131.202C140.193,130.946,139.042,130.691,138.019,130.179C139.042,127.494,139.810,124.680,140.321,121.867C141.216,121.867,142.112,121.867,143.007,122.123C145.948,122.634,148.633,123.913,150.807,125.703C150.935,124.297,151.191,123.018,151.191,121.611C155.667,122.506,158.863,125.959,158.224,129.412C157.585,132.992,153.493,135.166,149.017,134.527C149.401,133.248,149.656,131.841,149.912,130.435C147.355,131.330,144.413,131.586,141.472,131.202zM135.078,146.931C133.416,146.164,132.009,145.013,130.730,143.862C132.265,141.688,133.672,139.514,134.823,137.212C136.229,137.468,137.764,137.980,139.170,138.619C141.856,139.898,144.030,141.944,145.564,144.246C146.076,142.967,146.715,141.688,147.099,140.409C151.191,142.455,153.237,146.675,151.574,149.872C150.040,153.069,145.436,154.092,141.344,152.174C142.112,151.023,142.751,149.744,143.390,148.593C140.577,148.721,137.764,148.338,135.078,146.931zM124.337,160.358C122.674,158.824,121.268,156.905,120.372,154.859C122.163,153.453,123.825,151.918,125.360,150.256C127.278,151.023,129.068,152.046,130.603,153.453C132.777,155.499,134.311,157.928,135.206,160.614C136.101,159.591,136.996,158.440,137.764,157.417C141.089,160.614,141.856,165.217,139.426,167.775C136.996,170.460,132.393,170.077,128.940,167.008C129.963,166.113,130.986,165.090,131.881,164.194C129.196,163.683,126.511,162.276,124.337,160.358zM107.968,162.660C109.759,161.893,111.421,160.998,113.083,159.975C115.129,161.253,116.920,163.044,118.198,165.217C119.733,167.775,120.500,170.588,120.500,173.402C121.651,172.634,122.802,171.867,123.953,171.100C126.255,175.064,125.615,179.668,122.546,181.586C119.477,183.376,115.129,181.714,112.700,177.877C113.979,177.238,115.129,176.599,116.408,175.959C113.979,174.553,111.805,172.634,110.270,170.077C108.863,167.775,108.096,165.217,107.968,162.660zM94.030,167.136C95.692,166.880,97.354,166.496,99.017,165.985C100.807,167.903,102.214,170.333,102.981,173.146C103.748,176.087,103.620,179.028,102.853,181.714C104.132,181.330,105.539,180.946,106.817,180.435C107.840,184.911,105.922,189.131,102.597,190.026C99.145,190.921,95.436,188.108,94.158,183.632C95.564,183.376,96.843,183.120,98.250,182.865C96.331,180.819,94.797,178.389,94.030,175.448C93.262,172.634,93.390,169.693,94.030,167.136zM79.452,184.271C80.858,184.399,82.265,184.399,83.672,184.399C85.078,184.399,86.485,184.399,87.892,184.271C87.764,187.596,85.973,190.537,83.672,191.688C81.370,190.537,79.707,187.724,79.452,184.271zM68.326,111.637C68.326,111.637,68.326,111.637,68.326,111.637C68.326,109.847,68.326,108.184,68.326,106.522C68.326,79.412,69.861,52.685,73.058,26.343C73.697,21.228,77.917,17.391,83.160,17.391L84.311,17.391C89.554,17.391,93.774,21.355,94.413,26.343C97.482,52.685,99.145,79.412,99.145,106.522C99.145,108.184,99.145,109.974,99.145,111.637C99.145,111.637,99.145,111.637,99.145,111.637C99.145,120.077,92.239,126.982,83.799,126.982C75.232,126.982,68.326,120.077,68.326,111.637zM60.398,180.307C61.677,180.819,62.955,181.202,64.362,181.586C63.595,178.900,63.467,175.959,64.234,173.018C65.001,170.205,66.408,167.775,68.198,165.857C69.861,166.368,71.523,166.624,73.186,167.008C73.953,169.693,73.953,172.507,73.186,175.320C72.418,178.261,70.884,180.691,68.966,182.737C70.372,182.992,71.651,183.248,73.058,183.504C71.779,187.852,68.071,190.793,64.618,189.898C61.293,189.131,59.375,184.783,60.398,180.307zM26.255,105.115C25.999,106.778,25.743,108.440,25.743,110.230C25.743,111.637,25.871,112.916,25.871,114.322C25.232,114.322,24.592,114.322,24.081,114.194C21.140,113.811,18.454,112.660,16.152,110.997C16.024,112.404,15.897,113.683,15.897,115.090C11.421,114.450,8.096,111.125,8.480,107.545C8.863,103.964,12.955,101.535,17.431,102.046C17.175,103.453,16.920,104.731,16.664,106.138C19.221,104.987,22.163,104.604,25.104,104.987C25.615,104.987,25.999,104.987,26.255,105.115zM43.390,171.100C44.541,171.867,45.692,172.762,46.843,173.402C46.843,170.588,47.610,167.775,49.145,165.217C50.423,163.044,52.214,161.253,54.260,159.975C55.922,160.998,57.585,161.893,59.375,162.660C59.247,165.217,58.480,167.775,57.073,170.077C55.539,172.634,53.365,174.680,50.935,175.959C52.086,176.599,53.365,177.238,54.643,177.877C52.214,181.714,47.866,183.376,44.797,181.586C41.600,179.796,41.088,175.064,43.390,171.100zM29.579,157.417C30.347,158.568,31.242,159.591,32.137,160.614C33.032,157.928,34.439,155.499,36.741,153.453C38.275,152.046,40.065,150.895,41.984,150.256C43.518,151.918,45.180,153.453,46.971,154.859C46.076,156.905,44.797,158.696,43.007,160.358C40.833,162.404,38.147,163.683,35.462,164.322C36.485,165.345,37.380,166.241,38.403,167.136C34.950,170.205,30.347,170.460,27.917,167.903C25.487,165.217,26.255,160.614,29.579,157.417zM20.244,140.409C20.756,141.688,21.267,142.967,21.779,144.246C23.313,141.944,25.487,139.898,28.173,138.619C29.579,137.980,30.986,137.468,32.521,137.212C33.799,139.514,35.078,141.688,36.613,143.862C35.334,145.141,33.927,146.164,32.265,146.931C29.579,148.210,26.638,148.721,23.825,148.593C24.464,149.872,25.104,151.023,25.871,152.174C21.779,154.092,17.175,153.069,15.641,149.872C14.106,146.675,16.152,142.455,20.244,140.409zM16.152,121.356C16.280,122.762,16.408,124.169,16.536,125.448C18.710,123.657,21.267,122.379,24.336,121.867C25.232,121.739,26.127,121.611,27.022,121.611C27.661,124.425,28.429,127.238,29.324,129.923C28.173,130.435,27.022,130.691,25.871,130.946C22.930,131.458,19.989,131.074,17.431,130.051C17.687,131.458,18.070,132.737,18.326,134.143C13.851,134.783,9.758,132.609,9.119,129.028C8.480,125.703,11.677,122.251,16.152,121.356z"

        doc.path(str)
          .stroke()
          .translate(10, 50)
        // get a blob when you're done
        pdf.save("doc.pdf")
      }
    };

    xhr.send();
  }

}
